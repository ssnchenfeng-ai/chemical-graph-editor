/* =========================================
   1. 整体布局容器
   ========================================= */
.editor-container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
  background-color: #f0f2f5;
}

/* =========================================
   2. 左侧组件库 (Flex 布局改造)
   ========================================= */
.stencil-container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: 240px;
  background-color: #fff;
  border-right: 1px solid #dfe3e8;
  z-index: 10;
  
  /* 关键：使用 Flex 布局垂直排列 */
  display: flex;
  flex-direction: column;
}

/* 强制 X6 Stencil 容器填满高度 */
.x6-widget-stencil {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: #fff;
  position: relative;
}

/* 搜索框：防止被压缩 */
.x6-widget-stencil-search {
  flex-shrink: 0;
  padding: 10px 12px !important;
  border-bottom: 1px solid #eee;
  background: #fff;
  position: sticky;
  top: 0;
  z-index: 2;
}

/* 搜索输入框美化 */
.x6-widget-stencil-search input {
  border-radius: 4px;
  border: 1px solid #d9d9d9;
  padding: 6px 8px;
  font-size: 13px;
}

/* 内容区域：核心滚动逻辑 */
.x6-widget-stencil-content {
  flex: 1;                 /* 自动占据剩余空间 */
  height: auto !important; /* 覆盖 X6 的行内高度 */
  overflow-y: auto !important; /* 强制开启纵向滚动 */
  overflow-x: hidden !important;
  position: relative !important;
}

/* 分组标题美化 */
.x6-widget-stencil-group-title {
  background-color: #f9fafb !important;
  color: #555 !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  padding: 10px 12px !important;
  border-top: 1px solid #eee;
  border-bottom: 1px solid #eee;
}

/* 滚动条美化 */
.x6-widget-stencil-content::-webkit-scrollbar {
  width: 6px;
}
.x6-widget-stencil-content::-webkit-scrollbar-thumb {
  background: #d9d9d9;
  border-radius: 3px;
}
.x6-widget-stencil-content::-webkit-scrollbar-track {
  background: transparent;
}

/* =========================================
   3. 中间画布区域
   ========================================= */
.canvas-container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 240px;
  right: 300px;
  background-color: #fff;
  z-index: 1;
  overflow: hidden;
}

/* =========================================
   4. 右侧属性面板
   ========================================= */
.inspector-container {
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  width: 300px;
  background-color: #fff;
  border-left: 1px solid #dfe3e8;
  z-index: 10;
  overflow-y: auto;
}

/* =========================================
   5. 顶部悬浮工具栏
   ========================================= */
.toolbar-container {
  position: absolute;
  top: 10px;
  left: 260px;
  right: 320px;
  height: 40px;
  background-color: #fff;
  border: 1px solid #dfe3e8;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  border-radius: 4px;
  z-index: 100;
  display: flex;
  align-items: center;
  padding: 0 12px;
  gap: 12px;
}

.toolbar-group {
  display: flex;
  align-items: center;
  gap: 4px;
  position: relative;
}

.toolbar-group:not(:last-child)::after {
  content: '';
  display: block;
  width: 1px;
  height: 16px;
  background-color: #e8e8e8;
  margin-left: 12px;
}

/* ... 之前的 CSS ... */

/* =========================================
   7. 修复侧边栏 UI 细节 (Overlap Fixes)
   ========================================= */

/* 修复分组标题：折叠图标与文字重叠的问题 */
.x6-widget-stencil-group-title {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  /* 给文字左侧留出空间，防止盖住图标 */
  padding-left: 32px !important; 
  height: 38px !important; /* 稍微增加高度，便于点击 */
  line-height: 38px !important;
}

/* 定位折叠图标 (那个圆圈加号) */
.x6-widget-stencil-group-icon {
  position: absolute !important;
  left: 10px !important; /* 固定在左侧 10px 处 */
  top: 50% !important;
  transform: translateY(-50%) !important; /* 垂直居中 */
  margin: 0 !important;
  width: 16px !important;
  height: 16px !important;
  font-size: 12px !important;
}

/* 可选：微调搜索框的下边距，让布局更紧凑 */
.x6-widget-stencil-search {
  border-bottom: 1px solid #e8e8e8;
  padding-bottom: 8px !important;
}

/* ... 之前的 CSS 保持不变，请只修改或追加文件末尾的以下内容 ... */

/* =========================================
   8. 终极空白修复 (The Void Fix)
   ========================================= */

/* 1. 压榨搜索框底部空间 */
.x6-widget-stencil-search {
  /* 确保搜索框底部没有多余的外边距 */
  margin-bottom: 0 !important;
  /* 仅保留必要的内边距 */
  padding-bottom: 10px !important;
  border-bottom: 1px solid #dfe3e8;
}

/* 2. 压榨内容区域顶部空间 */
.x6-widget-stencil-content {
  top: 0 !important; /* 强制对齐顶部 */
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 3. 彻底消灭“幽灵”根画布 (关键！) */
/* 选中 content 下的第一个子元素，如果它不是分组标题，那就是那个讨厌的空白区域 */
.x6-widget-stencil-content > div:first-child:not(.x6-widget-stencil-group) {
  display: none !important;
  height: 0 !important;
  min-height: 0 !important;
  max-height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  overflow: hidden !important;
}

/* 4. 双重保险：针对 X6 生成的特定 graph 容器 */
.x6-widget-stencil-content .x6-graph {
  /* 只隐藏不在分组内的 graph */
  display: none !important;
}
/* 恢复分组内的 graph 显示 (防止误伤) */
.x6-widget-stencil-group .x6-graph {
  display: block !important;
}